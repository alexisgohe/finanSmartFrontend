<div class="p-8 bg-gray-100 min-h-screen">
  <div class="flex justify-between items-center p-4">
    <h2 class="text-2xl font-bold">Ingresos del Usuario</h2>
    <button (click)="newIngreso()" class="bg-blue-500 text-white px-4 py-2 rounded flex items-center">
      <span class="mr-2">+</span> Agregar Ingreso
    </button>
  </div>

  <div class="p-4">
    <div class="flex justify-between items-center mb-4">
      <div class="w-[220px]">
        <label class="block text-sm font-medium text-gray-700">Seleccionar rango</label>
        <input type="text"
          class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"
          ngxDaterangepickerMd [(ngModel)]="selectedRange" (change)="onDateRangeChange($event)"
          [locale]="{ format: 'DD/MM/YYYY' }" placeholder="Seleccionar rango de fechas" />
      </div>
      <!-- [ranges]="customRanges" -->
    </div>


    <div class="flex justify-between items-center mb-4">
      <div class="flex items-center space-x-2">
        <input [(ngModel)]="busqueda" placeholder="Buscar ingresos..." class="px-4 py-2 border rounded max-w-sm" />
      </div>
      <div class="text-sm font-medium">
        Total de ingresos: {{ totalIngresos | currency:'USD':'symbol':'1.2-2' }}
      </div>
    </div>

    <table class="min-w-full table-auto">
      <thead>
        <tr class="bg-gray-100">
          <th class="px-4 py-2 text-center">ID</th>
          <th class="px-4 py-2 text-center">Monto</th>
          <th class="px-4 py-2 text-center">Fecha</th>
          <th class="px-4 py-2 text-center">Descripción</th>
          <th class="px-4 py-2 text-center">Categoría</th>
          <th class="px-4 py-2 text-center">Método</th>
          <th class="px-4 py-2 text-center">Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let ingreso of ingresosEnPagina; trackBy: trackById">
          <td class="table-cell-class">{{ ingreso.ingreso_id }}</td>
          <td class="table-cell-class">{{ ingreso.monto_ingreso | currency:'USD':'symbol':'1.2-2' }}</td>
          <td class="table-cell-class">{{ ingreso.fecha_ingreso | date }}</td>
          <td class="table-cell-class hidden md:table-cell">{{ ingreso.descripcion_ingreso }}</td>
          <td class="table-cell-class text-center"> <span
              class="bg-gray-300 rounded-full px-2 py-1 text-xs font-bold">{{
              ingreso.categoria.descripcion }}</span></td>
          <td class="table-cell-class text-center">
            <ng-container *ngIf="ingreso.transferencia">
              <fa-icon [icon]="faCreditCard" class="h-4 w-4 text-blue-500"></fa-icon>
            </ng-container>
            <ng-template #efectivo>
              <fa-icon [icon]="faMoneyBill1" class="h-4 w-4 text-green-500"></fa-icon>
            </ng-template>
          </td>
          <td class="table-cell-class text-center">
            <button class="bg-gray-100 px-2 py-1 rounded">
              <fa-icon [icon]="faEye" class="text-sm"></fa-icon>
              Ver</button>
          </td>
        </tr>
      </tbody>
    </table>

    <div class="flex justify-between items-center mt-4">
      <div class="text-sm text-gray-500">
        Mostrando {{ ingresosEnPagina.length }} de {{ ingresosFiltrados.length }} ingresos
      </div>
      <div class="space-x-2">
        <button (click)="cambiarPaginaAnterior()" [disabled]="deshabilitarAnterior"
          class="bg-gray-300 px-4 py-2 rounded">Anterior</button>
        <button (click)="cambiarPaginaSiguiente()" [disabled]="deshabilitarSiguiente"
          class="bg-gray-300 px-4 py-2 rounded">Siguiente</button>

      </div>
    </div>
  </div>
</div>
